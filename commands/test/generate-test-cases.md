# 生成测试用例

自动生成全面的测试用例

## 说明

1. **目标分析和范围定义**
   - 根据参数 `$ARGUMENTS` 解析目标文件或函数
   - 如果未指定目标，则分析当前目录并提示输入具体目标
   - 检查目标代码结构、依赖关系和复杂度
   - 识别函数签名、参数、返回类型和副作用
   - 确定测试范围（单元、集成或两者兼有）

2. **代码结构分析**
   - 分析函数逻辑、分支和控制流
   - 识别输入验证、错误处理和边缘情况
   - 检查外部依赖关系、API 调用和数据库交互
   - 审查数据转换和业务逻辑
   - 识别异步操作和错误场景

3. **测试用例生成策略**
   - 为正常操作流程生成正向测试用例
   - 为错误条件和无效输入创建反向测试用例
   - 为边界条件和限制生成边缘情况
   - 为外部依赖关系创建集成测试用例
   - 为复杂操作生成性能测试用例

4. **单元测试实施**
  - 按照项目命名约定创建测试文件
  - 设置测试框架导入和配置
  - 生成按功能组织的测试套件
  - 创建具有描述性名称的全面测试用例
  - 为每个测试实现正确的设置和拆卸

5. **模拟和存根生成**
   - 识别需要模拟的外部依赖项
   - 为 API 和服务生成模拟实现
   - 为数据库和文件系统操作创建存根数据
   - 设置监视函数以监视函数调用
   - 配置模拟返回值和错误场景

6. **数据驱动测试生成**
   - 为各种输入场景创建测试数据集
   - 为多种输入组合生成参数化测试
   - 为复杂数据结构创建夹具
   - 设置测试数据工厂以实现一致的数据生成
   - 生成基于属性的测试用例以实现全面覆盖

7. **集成测试场景**
   - 生成组件交互测试
   - 创建端到端工作流测试用例
   - 生成 API 集成测试场景
   - 使用真实数据创建数据库集成测试
   - 生成跨模块集成测试用例

8. **错误处理和异常测试**
   - 为所有错误条件和异常生成测试
   - 为超时和网络故障场景创建测试
   - 为无效输入验证生成测试
   - 为资源耗尽和限制创建测试
   - 为并发访问和竞争条件生成测试

9. **测试质量和覆盖率**
   - 确保目标函数的全面代码覆盖
   - 为所有代码分支和路径生成测试
   - 为成功和失败场景创建测试
   - 验证测试断言是否有意义且具体
   - 确保测试彼此独立且相互隔离

10. **测试文档和维护**
    - 生成清晰的测试描述和文档
    - 创建注释，解释复杂的测试场景
    - 记录测试数据要求和设置程序
    - 生成测试维护指南和最佳实践
    - 创建测试执行和调试说明
    - 验证生成的测试是否成功执行并提供有意义的反馈