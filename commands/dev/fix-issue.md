# 修复问题命令

识别并解决代码问题

## 说明

请遵循以下结构化方法分析和修复问题：**$ARGUMENTS**

1. **问题分析**
   - 使用 `gh issue view $ARGUMENTS` 获取完整的问题详情
   - 阅读问题描述、评论以及任何附加的日志/屏幕截图
   - 确定问题类型（错误、功能请求、增强功能等）
   - 了解预期行为与实际行为

2. **环境设置**
   - 确保您位于正确的分支（通常是主/master）
   - 拉取最新更改：`git pull origin main`
   - 创建新的功能分支：`git checkout -b fix/issue-$ARGUMENTS`

3. **重现问题**
   - 按照问题中描述的步骤进行重现
   - 如有需要，设置开发环境
   - 运行应用程序/测试以确认问题存在
   - 记录当前行为

4. **根本原因分析**
   - 搜索代码库查找相关文件和函数
   - 使用 grep/搜索工具查找问题代码
   - 分析代码逻辑并找出根本原因
   - 检查相关问题或类似模式

5. **解决方案设计**
   - 设计一个修复方案，解决根本原因，而不仅仅是解决表象
   - 考虑极端情况和潜在的副作用
   - 确保解决方案遵循项目惯例和模式
   - 如有需要，规划向后兼容性

6. **实施**
   - 使用简洁易读的代码实现修复
   - 遵循项目的编码标准和风格
   - 添加适当的错误处理和日志记录
   - 尽量减少变更并使其集中化

7. **测试策略**
   - 编写或更新测试以覆盖修复
   - 确保现有测试仍然通过
   - 测试边缘情况和错误条件
   - 运行完整的测试套件以检查是否存在回归问题

8. **代码质量检查**
   - 运行 linting 和格式化工具
   - 执行静态分析（如适用）
   - 检查是否存在安全隐患
   - 确保性能不会受到负面影响

9. **文档更新**
   - 如有需要，更新相关文档
   - 添加或更新代码注释以提高清晰度
   - 如果项目维护了变更日志，请更新变更日志
   - 记录任何重大变更

10. **提交并推送**
    - 暂存变更：`git add.`
    - 按照项目惯例创建描述性提交消息
    - 示例：`fix: resolve issue with user authentication timeout (#$ARGUMENTS)`
    - 推送分支：`git push origin fix/issue-$ARGUMENTS`

11. **创建拉取请求**
    - 使用 `gh pr create` 创建拉取请求
    - 在拉取请求描述中引用问题：“修复 #$ARGUMENTS”
    - 提供对变更和已执行测试的清晰描述
    - 添加合适的标签和审阅者

12. **后续跟进**
    - 监控拉取请求的反馈和请求的变更
    - 及时处理任何审阅意见
    - 更新问题的进度和解决方案
    - 确保通过 CI/CD 检查

13. **验证**
    - 合并后，在主分支中验证修复
    - 如果问题未自动关闭，请关闭它
    - 监控任何相关问题或回归

请务必在代码和注释中清晰地沟通，并始终优先考虑可维护的解决方案，而不是快速修复。